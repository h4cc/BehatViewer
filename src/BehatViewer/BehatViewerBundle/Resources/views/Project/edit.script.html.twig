{% extends 'BehatViewerBundle:Project:edit.html.twig' %}

{% block stylesheet %}
    <link rel="stylesheet" href="{{ asset('bundles/behatviewerui/css/codemirror.css') }}">
    <link rel="stylesheet" href="{{ asset('bundles/behatviewerui/css/rubyblue.css') }}">
{% endblock %}

{% block javascript %}
    <script src="{{ asset('bundles/behatviewerui/js/codemirror.js') }}"></script>
    <script src="{{ asset('bundles/behatviewerui/js/mode/shell/shell.js') }}"></script>
    <script src="{{ asset('bundles/behatviewerui/js/util/searchcursor.js') }}"></script>
    <script src="{{ asset('bundles/behatviewerui/js/util/match-highlighter.js') }}"></script>
    <script>
        $(function() {
            var editor = CodeMirror.fromTextArea(document.getElementById("project_script_test_command"), {
                        mode: "text/x-sh",
                        lineNumbers: true,
                        lineWrapping: true,
                        onCursorActivity: function() {
                            editor.matchHighlight("matchhighlight");
                            editor.setLineClass(hlLine, null, null);
                            hlLine = editor.setLineClass(editor.getCursor().line, null, "activeline");
                        }
                    }),
                    hlLine = editor.setLineClass(0, "activeline"),
                    holder = $('.CodeMirror').parent();

            editor.setOption('theme', 'rubyblue');
        });
    </script>
{% endblock %}
